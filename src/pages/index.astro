---
import Layout from '~/layouts/PageLayout.astro'

const metadata = {
  title: 'TNX6 â€” Twitch Streamer',
  ignoreTitleTemplate: true,
}
---

<Layout metadata={metadata}>
  <section class="relative text-center text-white py-24 px-6 bg-gradient-to-b from-black/60 to-transparent">
    <div class="max-w-5xl mx-auto">
      <div class="flex items-center justify-center gap-3 mb-6">
        <iconify-icon icon="tabler:brand-twitch" class="text-[#a67c00] text-5xl"></iconify-icon>
        <h1 class="text-5xl font-extrabold tracking-wide bg-gradient-to-r from-[#ffda6a] to-[#c29200] bg-clip-text text-transparent drop-shadow-lg">
          TNX
        </h1>
      </div>

      <p class="text-lg text-gray-200 mb-6">
        Ø£Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…ØªØ¹Ø©ØŒ Ø§Ù„Ø¶Ø­ÙƒØŒ ÙˆØªØ­Ø¯ÙŠØ§Øª Ø§Ù„Ù…Ø¬ØªÙ…Ø¹â€¦ ÙˆØ£Ø¨Ø« ÙŠÙˆÙ…ÙŠÙ‹Ø§
      </p>

      <div class="flex flex-wrap justify-center gap-4 mb-4">
        <a
          href="https://www.twitch.tv/tnx_6"
          target="_blank"
          class="px-8 py-3 rounded-lg text-black font-semibold bg-gradient-to-r from-[#ffda6a] to-[#c29200] hover:opacity-90 transition"
        >
          Follow on Twitch
        </a>
        <a
          href="https://linktr.ee/TNX6"
          target="_blank"
          class="px-8 py-3 rounded-lg border border-[#c29200] text-[#ffda6a] hover:bg-[#c29200]/10 transition"
        >
          All Links
        </a>
      </div>

      <!-- ğŸ”´ ÙƒØ¨Ø³ÙˆÙ„Ø© Ø§Ù„Ø¹Ø¯Ù‘Ø§Ø¯ Ø¨ÙŠÙ† Ø§Ù„Ù†Øµ ÙˆØ§Ù„Ø£Ø²Ø±Ø§Ø± ÙˆØ¨ÙŠÙ† Ù…Ø±Ø¨Ø¹ ØªÙˆÙŠØªØ´ -->
      <div class="mb-6 flex justify-center">
        <div
          id="next-stream-wrapper"
          class="inline-flex items-center gap-3 rounded-full border border-[#c29200]/70 bg-black/70 px-5 py-2 text-xs md:text-sm shadow-[0_0_25px_rgba(0,0,0,0.7)]"
        >
          <!-- Ø§Ù„Ø±Ù‚Ù… ÙŠÙ…ÙŠÙ† -->
          <span
            id="next-stream-timer"
            class="font-mono text-sm md:text-base font-semibold text-[#ffda6a]"
          >
            -- : -- : --
          </span>

          <!-- Ø§Ù„ÙƒÙ„Ø§Ù… ÙŠØ³Ø§Ø± -->
          <span class="text-slate-100 text-[13px] md:text-sm">
            :Ø§Ù„Ø¨Ø« Ø§Ù„Ù‚Ø§Ø¯Ù… Ø®Ù„Ø§Ù„
          </span>

          <!-- Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© ÙŠØ³Ø§Ø± Ø§Ù„ÙƒÙ„ -->
          <span
            class="inline-flex h-6 w-6 items-center justify-center rounded-full border border-[#c29200]/70 text-[12px] text-[#ffda6a] bg-black/60"
          >
            ğŸ¥
          </span>
        </div>
      </div>

      <div class="relative w-full max-w-4xl mx-auto aspect-video rounded-2xl overflow-hidden shadow-2xl border border-[#c29200]/40">
        <iframe
          src="https://player.twitch.tv/?channel=tnx_6&parent=tnx6.xyz"
          allowfullscreen
          frameborder="0"
          scrolling="no"
          width="100%"
          height="100%"
        ></iframe>
      </div>
    </div>
  </section>

  <section class="relative py-24 px-6 text-white bg-black/70">
    <div class="max-w-6xl mx-auto grid md:grid-cols-2 gap-16 items-center">
      <img
        src="/TEST/assets/images/tnx-min.jpg"
        alt="TNX6 Twitch Avatar"
        class="rounded-2xl w-full max-w-sm mx-auto border border-[#c29200]/40 shadow-lg object-cover"
        width="300"
        height="300"
        loading="lazy"
      />

      <div>
        <h2 class="text-3xl font-bold mb-6 bg-gradient-to-r from-[#ffda6a] to-[#c29200] bg-clip-text text-transparent">
          About TNX6
        </h2>

        <p class="text-gray-200 mb-8 text-lg leading-relaxed">
          <strong class="text-[#ffda6a]">TNX</strong> is the best streamer Twitch has ever seen â€”
          insanely skilled, handsome and loved by everyone.
        </p>

        <ul class="space-y-4 text-gray-300">
          <li class="flex items-start gap-3">
            <iconify-icon icon="tabler:bolt" class="text-[#c29200] text-xl mt-1"></iconify-icon>
            Interactive Streams - crazy integrations, games and features.
          </li>
          <li class="flex items-start gap-3">
            <iconify-icon icon="tabler:medal" class="text-[#c29200] text-xl mt-1"></iconify-icon>
            Custom user cards with INSANE badges you can earn via challenges.
          </li>
          <li class="flex items-start gap-3">
            <iconify-icon icon="tabler:users" class="text-[#c29200] text-xl mt-1"></iconify-icon>
            You better join the community NOW or else...
          </li>
        </ul>
      </div>
    </div>
  </section>

  <!-- ğŸŒŸ Ø³ØªØ§ÙŠÙ„ Ø§Ù„Ù€ glow Ù„Ù„Ù†Øµ ÙˆÙ‚Øª Ø§Ù„Ø¨Ø« -->
  <style is:global>
    .tnx-live-glow {
      color: #fef08a; /* Ø£ØµÙØ± Ø£ÙØªØ­ Ø´ÙˆÙŠ */
      text-shadow:
        0 0 5px #facc15,
        0 0 12px #facc15,
        0 0 20px #facc15;
      animation: tnx-live-pulse 1.4s ease-in-out infinite;
    }

    @keyframes tnx-live-pulse {
      0%, 100% {
        text-shadow:
          0 0 4px #facc15,
          0 0 10px #facc15,
          0 0 18px #facc15;
        transform: translateY(0);
      }
      50% {
        text-shadow:
          0 0 8px #fde68a,
          0 0 18px #facc15,
          0 0 28px #fbbf24;
        transform: translateY(-0.5px);
      }
    }
  </style>

  <!-- ğŸ§  Ø³ÙƒØ±Ø¨Øª Ø§Ù„Ø¹Ø¯Ù‘ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ + ÙˆØ¶Ø¹ "Ø§Ù„Ø¨Ø« Ø´ØºØ§Ù„" Ù…Ø¹ Glow -->
  <script>
    // ÙˆÙ‚Øª Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø¨Ø« ÙˆÙ†Ù‡Ø§ÙŠØªÙ‡ (ÙŠÙˆÙ…ÙŠÙ‹Ø§)
    const STREAM_START_HOUR = 20; // 20 = 8 Ù…Ø³Ø§Ø¡Ù‹
    const STREAM_START_MINUTE = 30;
    const STREAM_END_HOUR = 2; // 2 = 2 ØµØ¨Ø§Ø­Ù‹Ø§

    // Ù‡Ù„ Ù†Ø­Ù† ÙÙŠ ÙØªØ±Ø© Ø§Ù„Ø¨Ø« Ø§Ù„Ø¢Ù†ØŸ (Ù…Ù† 8:30Ù… Ø¥Ù„Ù‰ 2:00Øµ)
    function isInStreamWindow(now) {
      const current = new Date(now);

      // Ù„Ùˆ Ø§Ù„Ø³Ø§Ø¹Ø© Ø£Ù‚Ù„ Ù…Ù† 2 Ø§Ù„ØµØ¨Ø§Ø­ØŒ Ù†Ø¹ØªØ¨Ø± Ø§Ù„Ø¨Ø« ØªØ¨Ø¹ "Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø³Ø§Ø¨Ù‚"
      let streamDay = new Date(current);
      if (current.getHours() < STREAM_END_HOUR) {
        streamDay.setDate(streamDay.getDate() - 1);
      }

      const start = new Date(streamDay);
      start.setHours(STREAM_START_HOUR, STREAM_START_MINUTE, 0, 0);

      const end = new Date(start);
      end.setDate(end.getDate() + 1);
      end.setHours(STREAM_END_HOUR, 0, 0, 0);

      return current >= start && current < end;
    }

    // ÙŠØ¹Ø·ÙŠÙ†Ø§ Ø£Ù‚Ø±Ø¨ ÙˆÙ‚Øª Ø¨Ø« Ù‚Ø§Ø¯Ù… (8:30Ù… Ø§Ù„Ù‚Ø§Ø¯Ù…)
    function getNextStreamStart(now) {
      const base = new Date(now);

      const startToday = new Date(base);
      startToday.setHours(STREAM_START_HOUR, STREAM_START_MINUTE, 0, 0);

      // Ù„Ùˆ Ù„Ø³Ù‡ Ù…Ø§ Ø¬Øª 8:30 Ø§Ù„ÙŠÙˆÙ… â†’ Ø§Ù„Ø¨Ø« Ø§Ù„Ù‚Ø§Ø¯Ù… Ø§Ù„ÙŠÙˆÙ…
      if (base < startToday) {
        return startToday;
      }

      // Ù„Ùˆ Ø¹Ø¯Ù‘ÙŠÙ†Ø§ 8:30 Ø§Ù„ÙŠÙˆÙ… â†’ Ø§Ù„Ø¨Ø« Ø§Ù„Ù‚Ø§Ø¯Ù… Ø¨ÙƒØ±Ø© 8:30
      const tomorrow = new Date(base);
      tomorrow.setDate(tomorrow.getDate() + 1);
      tomorrow.setHours(STREAM_START_HOUR, STREAM_START_MINUTE, 0, 0);
      return tomorrow;
    }

    function startNextStreamCountdown() {
      const timerEl = document.getElementById('next-stream-timer');
      const wrapperEl = document.getElementById('next-stream-wrapper');
      if (!timerEl) return;

      function update() {
        const now = new Date();

        if (isInStreamWindow(now)) {
          // Ø¯Ø§Ø®Ù„ ÙˆÙ‚Øª Ø§Ù„Ø¨Ø« â†’ Ù†Øµ Ù…Ø¹ glow
          timerEl.textContent = 'ğŸ‘‡ Ø§Ù„Ø¨Ø« Ø´ØºÙ‘Ø§Ù„ Ø§Ù„Ø¢Ù†! Ø§Ù†Ø¶Ù… Ù„Ù„Ø¨Ø« ';
          timerEl.classList.remove('font-mono');
          timerEl.classList.add('font-bold', 'tnx-live-glow');

          if (wrapperEl) {
            wrapperEl.classList.add('ring-1', 'ring-yellow-400/60');
          }
          return;
        }

        // Ø®Ø§Ø±Ø¬ ÙˆÙ‚Øª Ø§Ù„Ø¨Ø« â†’ Ø¹Ø¯Ù‘Ø§Ø¯ ØªÙ†Ø§Ø²Ù„ÙŠ Ù„ÙˆÙ‚Øª 8:30Ù… Ø§Ù„Ù‚Ø§Ø¯Ù…
        const next = getNextStreamStart(now);
        const diffMs = next - now;
        const totalSeconds = Math.max(0, Math.floor(diffMs / 1000));
        const h = Math.floor(totalSeconds / 3600);
        const m = Math.floor((totalSeconds % 3600) / 60);
        const s = totalSeconds % 60;

        timerEl.textContent =
          String(h).padStart(2, '0') + ' : ' +
          String(m).padStart(2, '0') + ' : ' +
          String(s).padStart(2, '0');

        // Ø±Ø¬Ù‘Ø¹ Ø´ÙƒÙ„ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ
        timerEl.classList.add('font-mono');
        timerEl.classList.remove('font-bold', 'tnx-live-glow');

        if (wrapperEl) {
          wrapperEl.classList.remove('ring-1', 'ring-yellow-400/60');
        }
      }

      update();
      setInterval(update, 1000);
    }

    if (typeof window !== 'undefined') {
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', startNextStreamCountdown);
      } else {
        startNextStreamCountdown();
      }
    }
  </script>
</Layout>
