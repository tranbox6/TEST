---
import Layout from '~/layouts/PageLayout.astro'

const metadata = {
  title: 'TNX6 â€” Twitch Streamer',
  ignoreTitleTemplate: true,
}
---

<Layout metadata={metadata}>
  <section class="relative text-center text-white py-24 px-6 bg-gradient-to-b from-black/60 to-transparent">
    <div class="max-w-5xl mx-auto">
      <div class="flex items-center justify-center gap-3 mb-6">
        <iconify-icon icon="tabler:brand-twitch" class="text-[#a67c00] text-5xl"></iconify-icon>
        <h1 class="text-5xl font-extrabold tracking-wide bg-gradient-to-r from-[#ffda6a] to-[#c29200] bg-clip-text text-transparent drop-shadow-lg">
          TNX
        </h1>
      </div>

      <p class="text-lg text-gray-200 mb-6">
        Ø£Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…ØªØ¹Ø©ØŒ Ø§Ù„Ø¶Ø­ÙƒØŒ ÙˆØªØ­Ø¯ÙŠØ§Øª Ø§Ù„Ù…Ø¬ØªÙ…Ø¹â€¦ ÙˆØ£Ø¨Ø« Ù…Ù† Ø§Ù„Ø³Ø¨Øª Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡
      </p>

      <div class="flex flex-wrap justify-center gap-4 mb-4">
        <a
          href="https://www.twitch.tv/tnx_6"
          target="_blank"
          class="px-8 py-3 rounded-lg text-black font-semibold bg-gradient-to-r from-[#ffda6a] to-[#c29200] hover:opacity-90 transition"
        >
          Follow on Twitch
        </a>
        <a
          href="https://linktr.ee/TNX6"
          target="_blank"
          class="px-8 py-3 rounded-lg border border-[#c29200] text-[#ffda6a] hover:bg-[#c29200]/10 transition"
        >
          All Links
        </a>
      </div>

      <!-- ğŸ”´ ÙƒØ¨Ø³ÙˆÙ„Ø© Ø§Ù„Ø¹Ø¯Ù‘Ø§Ø¯ -->
      <div class="mb-6 flex justify-center">
        <div
          id="next-stream-wrapper"
          class="inline-flex items-center gap-3 rounded-full border border-[#c29200]/70 bg-black/70 px-5 py-2 text-xs md:text-sm shadow-[0_0_25px_rgba(0,0,0,0.7)]"
        >
          <!-- Ø§Ù„Ø±Ù‚Ù… ÙŠÙ…ÙŠÙ† -->
          <span
            id="next-stream-timer"
            class="font-mono text-sm md:text-base font-semibold text-[#ffda6a]"
          >
            -- : -- : --
          </span>

          <!-- Ø§Ù„ÙƒÙ„Ø§Ù… ÙŠØ³Ø§Ø± -->
          <span
            id="next-stream-label"
            class="text-slate-100 text-[13px] md:text-sm"
          >
            Ø§Ù„Ø¨Ø« Ø§Ù„Ù‚Ø§Ø¯Ù… Ø®Ù„Ø§Ù„
          </span>

          <!-- Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© ÙŠØ³Ø§Ø± Ø§Ù„ÙƒÙ„ -->
          <span
            class="inline-flex h-6 w-6 items-center justify-center rounded-full border border-[#c29200]/70 text-[12px] text-[#ffda6a] bg-black/60"
          >
            ğŸ¥
          </span>
        </div>
      </div>

      <!-- ğŸ¥ Ù…Ø±Ø¨Ø¹ ØªÙˆÙŠØªØ´ -->
      <div class="relative w-full max-w-4xl mx-auto aspect-video rounded-2xl overflow-hidden shadow-2xl border border-[#c29200]/40">
        <iframe
          src="https://player.twitch.tv/?channel=tnx_6&parent=tnx6.xyz"
          allowfullscreen
          frameborder="0"
          scrolling="no"
          width="100%"
          height="100%"
        ></iframe>
      </div>

      <!-- ğŸ“… Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¨Ø« Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ ØªØ­Øª Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø¨Ø« -->
      <div class="mt-10 w-full max-w-5xl mx-auto" dir="rtl">
        <div class="rounded-3xl border border-[#c29200]/40 bg-black/70 px-5 py-4 md:px-8 md:py-6 shadow-[0_0_25px_rgba(0,0,0,0.65)]">

          <!-- Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙÙŠ Ø§Ù„Ù†Øµ -->
          <div class="flex items-center justify-center mb-4">
            <div class="flex items-center gap-2 text-sm md:text-base">
              <iconify-icon icon="tabler:calendar-time" class="text-[#ffda6a] text-lg md:text-xl"></iconify-icon>
              <h2 class="font-semibold text-white">
                Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¨Ø« Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ
              </h2>
            </div>
          </div>

          <div class="grid gap-3 md:grid-cols-5">
            <!-- Ø§Ù„Ø³Ø¨Øª -->
            <div
              class="tnx-schedule-card rounded-2xl border border-transparent px-4 py-4 text-center text-xs md:text-sm text-gray-200 flex flex-col justify-center gap-1"
              data-schedule-day="6"
            >
              <div class="font-semibold text-sm md:text-base">Ø§Ù„Ø³Ø¨Øª</div>
              <div class="flex items-center justify-center text-[13px] md:text-sm font-semibold text-[#ffda6a]">
                <span>8:30 Ù…</span>
              </div>
              <div class="text-[11px] md:text-xs text-gray-300 mt-1">
                Ù‚ØµØµ Ø£Ù„Ø¹Ø§Ø¨ + Ø³ÙˆØ§Ù„Ù
              </div>
            </div>

            <!-- Ø§Ù„Ø£Ø­Ø¯ -->
            <div
              class="tnx-schedule-card rounded-2xl border border-transparent px-4 py-4 text-center text-xs md:text-sm text-gray-200 flex flex-col justify-center gap-1"
              data-schedule-day="0"
            >
              <div class="font-semibold text-sm md:text-base">Ø§Ù„Ø£Ø­Ø¯</div>
              <div class="flex items-center justify-center text-[13px] md:text-sm font-semibold text-[#ffda6a]">
                <span>8:30 Ù…</span>
              </div>
              <div class="text-[11px] md:text-xs text-gray-300 mt-1">
                Ù‚ØµØµ Ø£Ù„Ø¹Ø§Ø¨ + Ø³ÙˆØ§Ù„Ù
              </div>
            </div>

            <!-- Ø§Ù„Ø§Ø«Ù†ÙŠÙ† -->
            <div
              class="tnx-schedule-card rounded-2xl border border-transparent px-4 py-4 text-center text-xs md:text-sm text-gray-200 flex flex-col justify-center gap-1"
              data-schedule-day="1"
            >
              <div class="font-semibold text-sm md:text-base">Ø§Ù„Ø§Ø«Ù†ÙŠÙ†</div>
              <div class="flex items-center justify-center text-[13px] md:text-sm font-semibold text-[#ffda6a]">
                <span>8:30 Ù…</span>
              </div>
              <div class="text-[11px] md:text-xs text-gray-300 mt-1">
                Ù‚ØµØµ Ø£Ù„Ø¹Ø§Ø¨ + Ø³ÙˆØ§Ù„Ù
              </div>
            </div>

            <!-- Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡ -->
            <div
              class="tnx-schedule-card rounded-2xl border border-transparent px-4 py-4 text-center text-xs md:text-sm text-gray-200 flex flex-col justify-center gap-1"
              data-schedule-day="2"
            >
              <div class="font-semibold text-sm md:text-base">Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡</div>
              <div class="flex items-center justify-center text-[13px] md:text-sm font-semibold text-[#ffda6a]">
                <span>8:30 Ù…</span>
              </div>
              <div class="text-[11px] md:text-xs text-gray-300 mt-1">
                Ù‚ØµØµ Ø£Ù„Ø¹Ø§Ø¨ + Ø³ÙˆØ§Ù„Ù
              </div>
            </div>

            <!-- Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡ -->
            <div
              class="tnx-schedule-card rounded-2xl border border-transparent px-4 py-4 text-center text-xs md:text-sm text-gray-200 flex flex-col justify-center gap-1"
              data-schedule-day="3"
            >
              <div class="font-semibold text-sm md:text-base">Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡</div>
              <div class="flex items-center justify-center text-[13px] md:text-sm font-semibold text-[#ffda6a]">
                <span>8:30 Ù…</span>
              </div>
              <div class="text-[11px] md:text-xs text-gray-300 mt-1">
                Ù‚ØµØµ Ø£Ù„Ø¹Ø§Ø¨ + Ø³ÙˆØ§Ù„Ù
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="relative py-24 px-6 text-white bg-black/70">
    <div class="max-w-6xl mx-auto grid md:grid-cols-2 gap-16 items-center">
      <img
        src="/TEST/assets/images/tnx-min.jpg"
        alt="TNX6 Twitch Avatar"
        class="rounded-2xl w-full max-w-sm mx-auto border border-[#c29200]/40 shadow-lg object-cover"
        width="300"
        height="300"
        loading="lazy"
      />

      <div>
        <h2 class="text-3xl font-bold mb-6 bg-gradient-to-r from-[#ffda6a] to-[#c29200] bg-clip-text text-transparent">
          About TNX6
        </h2>

        <p class="text-gray-200 mb-8 text-lg leading-relaxed">
          <strong class="text-[#ffda6a]">TNX</strong> is the best streamer Twitch has ever seen â€”
          insanely skilled, handsome and loved by everyone.
        </p>

        <ul class="space-y-4 text-gray-300">
          <li class="flex items-start gap-3">
            <iconify-icon icon="tabler:bolt" class="text-[#c29200] text-xl mt-1"></iconify-icon>
            Interactive Streams - crazy integrations, games and features.
          </li>
          <li class="flex items-start gap-3">
            <iconify-icon icon="tabler:medal" class="text-[#c29200] text-xl mt-1"></iconify-icon>
            Custom user cards with INSANE badges you can earn via challenges.
          </li>
          <li class="flex items-start gap-3">
            <iconify-icon icon="tabler:users" class="text-[#c29200] text-xl mt-1"></iconify-icon>
            You better join the community NOW or else...
          </li>
        </ul>
      </div>
    </div>
  </section>

  <!-- ğŸŒŸ Ø³ØªØ§ÙŠÙ„ Ø§Ù„Ù€ glow + Ø´ÙƒÙ„ ÙƒØ±ÙˆØª Ø§Ù„Ø¬Ø¯ÙˆÙ„ -->
  <style is:global>
    .tnx-live-glow {
      color: #fef08a;
      text-shadow:
        0 0 5px #facc15,
        0 0 12px #facc15,
        0 0 20px #facc15;
      animation: tnx-live-pulse 1.4s ease-in-out infinite;
    }

    @keyframes tnx-live-pulse {
      0%, 100% {
        text-shadow:
          0 0 4px #facc15,
          0 0 10px #facc15,
          0 0 18px #facc15;
        transform: translateY(0);
      }
      50% {
        text-shadow:
          0 0 8px #fde68a,
          0 0 18px #facc15,
          0 0 28px #fbbf24;
        transform: translateY(-0.5px);
      }
    }

    .tnx-schedule-card {
      background: #080b12;
    }

    .tnx-schedule-card--active {
      border-color: rgba(194, 146, 0, 0.9) !important;
      box-shadow: 0 0 22px rgba(194, 146, 0, 0.45);
    }
  </style>

  <!-- ğŸ§  Ø³ÙƒØ±Ø¨Øª Ø§Ù„Ø¹Ø¯Ù‘ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ + ÙˆØ¶Ø¹ "Ø§Ù„Ø¨Ø« Ø´ØºØ§Ù„" + ØªÙ…ÙŠÙŠØ² ÙŠÙˆÙ… Ø§Ù„Ø¬Ø¯ÙˆÙ„ -->
  <script>
    const STREAM_START_HOUR = 20;
    const STREAM_START_MINUTE = 30;
    const STREAM_END_HOUR = 2;
    const STREAM_DAYS = [6, 0, 1, 2, 3];

    function isStreamDay(date) {
      return STREAM_DAYS.includes(date.getDay());
    }

    function isInStreamWindow(now) {
      const today = new Date(now);
      const yesterday = new Date(now);
      yesterday.setDate(yesterday.getDate() - 1);

      function inWindowFor(dateObj) {
        if (!isStreamDay(dateObj)) return false;

        const start = new Date(dateObj);
        start.setHours(STREAM_START_HOUR, STREAM_START_MINUTE, 0, 0);

        const end = new Date(start);
        end.setDate(end.getDate() + 1);
        end.setHours(STREAM_END_HOUR, 0, 0, 0);

        return now >= start && now < end;
      }

      return inWindowFor(today) || inWindowFor(yesterday);
    }

    function getNextStreamStart(now) {
      for (let offset = 0; offset < 10; offset++) {
        const candidateDay = new Date(now);
        candidateDay.setDate(candidateDay.getDate() + offset);

        if (!isStreamDay(candidateDay)) continue;

        const start = new Date(candidateDay);
        start.setHours(STREAM_START_HOUR, STREAM_START_MINUTE, 0, 0);

        if (start > now) {
          return start;
        }
      }
      return null;
    }

    function highlightTodayScheduleCard() {
      const today = new Date();
      const todayDay = today.getDay();
      const cards = document.querySelectorAll('.tnx-schedule-card');

      cards.forEach((card) => {
        card.classList.remove('tnx-schedule-card--active');
        const dayAttr = card.getAttribute('data-schedule-day');
        if (!dayAttr) return;
        const cardDay = parseInt(dayAttr, 10);
        if (cardDay === todayDay) {
          card.classList.add('tnx-schedule-card--active');
        }
      });
    }

    function startNextStreamCountdown() {
      const timerEl = document.getElementById('next-stream-timer');
      const wrapperEl = document.getElementById('next-stream-wrapper');
      const labelEl = document.getElementById('next-stream-label');
      if (!timerEl) return;

      function update() {
        const now = new Date();

        if (isInStreamWindow(now)) {
          timerEl.textContent = 'Ø§Ù„Ø¨Ø« Ø´ØºÙ‘Ø§Ù„ Ø§Ù„Ø¢Ù†! Ø§Ù†Ø¶Ù… Ù„Ù„Ø¨Ø« ğŸ‘‡';
          timerEl.classList.remove('font-mono');
          timerEl.classList.add('font-bold', 'tnx-live-glow');

          if (labelEl) labelEl.textContent = 'Ø§Ù„Ø¨Ø« Ù…Ø¨Ø§Ø´Ø±';
          if (wrapperEl) wrapperEl.classList.add('ring-1', 'ring-yellow-400/60');
          return;
        }

        const next = getNextStreamStart(now);
        if (!next) {
          timerEl.textContent = '-- : -- : --';
          timerEl.classList.add('font-mono');
          timerEl.classList.remove('font-bold', 'tnx-live-glow');
          if (labelEl) labelEl.textContent = 'Ø§Ù„Ø¨Ø« Ø§Ù„Ù‚Ø§Ø¯Ù… Ø®Ù„Ø§Ù„';
          if (wrapperEl) wrapperEl.classList.remove('ring-1', 'ring-yellow-400/60');
          return;
        }

        const diffMs = next - now;
        const totalSeconds = Math.max(0, Math.floor(diffMs / 1000));
        const h = Math.floor(totalSeconds / 3600);
        const m = Math.floor((totalSeconds % 3600) / 60);
        const s = totalSeconds % 60;

        timerEl.textContent =
          String(h).padStart(2, '0') + ' : ' +
          String(m).padStart(2, '0') + ' : ' +
          String(s).padStart(2, '0');

        timerEl.classList.add('font-mono');
        timerEl.classList.remove('font-bold', 'tnx-live-glow');

        if (labelEl) {
          if (!isStreamDay(now)) {
            labelEl.textContent = 'Ø§Ù„ÙŠÙˆÙ… Ù…Ø§ ÙÙŠÙ‡ Ø¨Ø« - Ø§Ù„Ø¨Ø« Ø§Ù„Ù‚Ø§Ø¯Ù… Ø¨Ø¹Ø¯';
          } else {
            labelEl.textContent = 'Ø§Ù„Ø¨Ø« Ø§Ù„Ù‚Ø§Ø¯Ù… Ø®Ù„Ø§Ù„';
          }
        }

        if (wrapperEl) {
          wrapperEl.classList.remove('ring-1', 'ring-yellow-400/60');
        }
      }

      update();
      setInterval(update, 1000);
    }

    if (typeof window !== 'undefined') {
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', () => {
          startNextStreamCountdown();
          highlightTodayScheduleCard();
        });
      } else {
        startNextStreamCountdown();
        highlightTodayScheduleCard();
      }
    }
  </script>
</Layout>
